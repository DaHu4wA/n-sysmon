<div ng-app='NSysMonApp' ng-controller='CtrlTimedScalars' style="{position:relative;vertical-align: top}">
    <div class="options-header">
        <div class="button-box">
            <a class="btn btn-default" ng-click="refresh()" data-toggle="tooltip"
               title="Fetch fresh data from the server">Refresh</a>
        </div>
        <div class="input-group">
            <span class="input-group-addon"><input type="checkbox" ng-model="autoRefresh"></span>
            <input type="text" class="form-control" ng-model="autoRefreshSeconds" style="width:50px"> Automatically
            refresh graph after {{autoRefreshSeconds}} seconds
        </div>
    </div>


    <div>
        <!--TODO FOX088S ake sorting by group and key work -->
        <div ng-repeat="entry in timedScalars | orderBy:'group' "
             class="timedScalar-option {{entriesToLoadDataFor.indexOf(entry.key) == -1 ? 'timedScalarOff' : 'timedScalarOn'}}"
             ng-click="toggleGraphData(entry.key)" >


            <div ng-if="entry.group"
                 class="{{entriesToLoadDataFor.indexOf(entry.key) == -1 ? 'timedScalarHeaderOff' : 'timedScalarHeaderOn'}}">
                <!--TODO FOX088S decide if to request icon or not -->
                <b>{{entry.group}}</b>
            </div>

            <div>
                <small><b>{{entry.key}}</b></small>
            </div>

            <div ng-if="entry.description">
                <small><small>{{entry.description}}</small></small>
            </div>
            <!--<div ng-if="entriesToLoadDataFor.indexOf(entry.key) != -1"><br/>selected</div>-->
        </div>
    </div>

    <div style="clear:both"></div>

    <fieldset class="timedscalar-graph">
        <legend>Graphical Display</legend>
        <nvd3 options='options' id='chart' data='graphData' api="rc.api"></nvd3>
    </fieldset>
</div>
